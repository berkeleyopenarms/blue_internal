<launch>
  <include
    file="$(find blue_gazebo)/launch/blue_gazebo_sevendof.launch" />
    
  <include 
    file="$(find blue_gazebo)/launch/gazebo_controller_7dof.launch" />

  <include 
    file="$(find kinect2_bridge)/launch/kinect2_bridge.launch" />

 <arg
    name="model" />

  <arg
    name="gui"
    default="True" />

  <param
    name="robot_dyn_description"
    textfile="$(find blue_gazebo)/robots/blue_description_sevendof_kin2.urdf" />

  <param
    name="use_gui"
    value="$(arg gui)" />

  <node
    name="rviz"
    pkg="rviz"
    type="rviz"
    args="-d $(find blue_gazebo)/urdf.rviz" />

  <node 
    pkg="rostopic" 
    type="rostopic" 
    name="rostopic" 
    args="pub /command_label std_msgs/Int32 25"/>

  <node
    name="pose_target"
    pkg="blue_gazebo"
    type="pose_target_simulation" />

  <!--node
    name="ball_kalman_filter"
    pkg="ball_tracker"
    type="ball_kalman_filter.py" /-->
  <!--node
    name="ball_tracker"
    pkg="ball_tracker"
    type="ball_tracker.py" /-->

  <node name="pos_plot"
    pkg="rqt_plot"
    type="rqt_plot"
    args="/blue_gazebo/simple_controller/command/data[2]" />

  <node
    name="transformer"
    pkg="tf"
    type="static_transform_publisher" 
    args="0.0 0.0 0.0 0.0 0.0 0.0 1 kinect_link kinect2_ir_optical_frame 100"/>   

<!--   <node
    name="transformer_ef"
    pkg="tf"
    type="static_transform_publisher" 
    args=" 0.0 0.11094848 -0.03186797969 -0.7071 0.0 0.0 0.7071 wrist_link end_effector 100"/>   --> 

</launch>
